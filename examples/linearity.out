#############
# Desugared #
#############

constructor Bool : Type.

constructor True : Bool.

constructor False : Bool.

and : (_ : Bool) -> (_ : Bool) -> Bool {
  and True True ~> True
  
  and True False ~> False
  
  and False True ~> False
  
  and False False ~> False
}

constructor T : Type.

constructor C : (x :L Bool) -> T.

#############
# Evarified #
#############

constructor Bool :0 Type.

constructor True :4 Bool.

constructor False :2 Bool.

and :5 (_ :6 Bool) -> (_ :7 Bool) -> Bool {
  and True True ~> True
  
  and True False ~> False
  
  and False True ~> False
  
  and False False ~> False
}

constructor T :3 Type.

constructor C :1 (x :L Bool) -> T.

Running erasure inference...

########################
# Inferred constraints #
########################

2 ≥ sum
  product []
  product []
  product []
4 ≥ sum
  product []
6 ~ 8
product [6] ≥ sum
  product [L]
7 ~ 9
product [7] ≥ sum
  product [L]
6 ~ 10
product [6] ≥ sum
  product [L]
7 ~ 11
product [7] ≥ sum
  product [L]
6 ~ 12
product [6] ≥ sum
  product [L]
7 ~ 13
product [7] ≥ sum
  product [L]
6 ~ 14
product [6] ≥ sum
  product [L]
7 ~ 15
product [7] ≥ sum
  product [L]
#######################
# Deferred equalities #
#######################


  -> iteration 1
    -> No more equalities, fixed point reached.

###################
# Final valuation #
###################

  2 -> R
  4 -> L
  6 -> L
  7 -> L
  8 -> L
  9 -> L
  10 -> L
  11 -> L
  12 -> L
  13 -> L
  14 -> L
  15 -> L

#####################
# Annotated program #
#####################

constructor Bool :I Type.

constructor True :L Bool.

constructor False :R Bool.

and :I (_ :L Bool) -> (_ :L Bool) -> Bool {
  and True True ~> True
  
  and True False ~> False
  
  and False True ~> False
  
  and False False ~> False
}

constructor T :I Type.

constructor C :I (x :L Bool) -> T.

###############
# Final check #
###############

##########
# Erased #
##########

constructor True : Bool.

constructor False : Bool.

################
# NF of `main` #
################

Unerased, reduced:
main

Erased, reduced:
main
