#############
# Desugared #
#############

constructor Nat : Type.

constructor Z : Nat.

constructor S : (n : Nat) -> Nat.

constructor Fin : Nat -> Type.

constructor FZ : (n : Nat) -> Fin (S n).

constructor FS : (n : Nat) -> Fin n -> Fin (S n).

constructor Vect : Nat -> Type -> Type.

constructor VN : (a : Type) -> Vect Z a.

constructor VC : (n : Nat) -> (a : Type) -> a -> Vect n a -> Vect (S n) a.

constructor TT : Nat -> Type.

constructor V : (n : Nat) -> Fin n -> TT n.

constructor Lam : (n : Nat) -> TT (S n) -> TT n.

constructor App : (n : Nat) -> TT n -> TT n -> TT n.

env : (m : Nat) -> (n : Nat) -> Vect m (TT n) -> Fin m -> TT n {
  forall (m : Nat) (n : Nat) (x : TT n) (xs : Vect m (TT n))
  env [S m] n (VC [m] [TT n] x xs) (FZ m) ~> x
  
  forall (m : Nat) (n : Nat) (x : TT n) (xs : Vect m (TT n)) (i : Fin m)
  env [S m] n (VC [m] [TT n] x xs) (FS m i) ~> env m n xs i
}

extendMap : (m : Nat) -> (n : Nat) -> (Fin m -> Fin n) -> Fin (S m) -> Fin (S n) {
  forall (m : Nat) (n : Nat) (f : Fin m -> Fin n)
  extendMap m n f (FZ [m]) ~> FZ n
  
  forall (m : Nat) (n : Nat) (f : Fin m -> Fin n) (i : Fin m)
  extendMap m n f (FS [m] i) ~> FS n (f i)
}

mapVars : (m : Nat) -> (n : Nat) -> (Fin m -> Fin n) -> TT m -> TT n {
  forall (m : Nat) (n : Nat) (f : Fin m -> Fin n) (i : Fin m)
  mapVars m n f (V [m] i) ~> V n (f i)
  
  forall (m : Nat) (n : Nat) (f : Fin m -> Fin n) (x : TT (S m))
  mapVars m n f (Lam [m] x) ~> Lam n (mapVars (S m) (S n) (extendMap m n f) x)
  
  forall (m : Nat) (n : Nat) (f : Fin m -> Fin n) (g : TT m) (x : TT m)
  mapVars m n f (App [m] g x) ~> App n (mapVars m n f g) (mapVars m n f x)
}

extendSubst : (m : Nat) -> (n : Nat) -> (Fin m -> TT n) -> Fin (S m) -> TT (S n) {
  forall (m : Nat) (n : Nat) (f : Fin m -> TT n)
  extendSubst m n f (FZ [m]) ~> V (S n) (FZ n)
  
  forall (m : Nat) (n : Nat) (f : Fin m -> TT n) (i : Fin m)
  extendSubst m n f (FS [m] i) ~> mapVars n (S n) (FS n) (f i)
}

substVars : (m : Nat) -> (n : Nat) -> (Fin m -> TT n) -> TT m -> TT n {
  forall (m : Nat) (n : Nat) (f : Fin m -> TT n) (i : Fin m)
  substVars m n f (V [m] i) ~> f i
  
  forall (m : Nat) (n : Nat) (f : Fin m -> TT n) (x : TT (S m))
  substVars m n f (Lam [m] x) ~> Lam n (substVars (S m) (S n) (extendSubst m n f) x)
  
  forall (m : Nat) (n : Nat) (f : Fin m -> TT n) (g : TT m) (x : TT m)
  substVars m n f (App [m] g x) ~> App n (substVars m n f g) (substVars m n f x)
}

testTm : TT (S Z) {
  testTm ~> App (S Z) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FZ (S Z))) (V (S (S Z)) (FS (S Z) (FZ Z))))) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FS (S Z) (FZ Z))) (V (S (S Z)) (FZ (S Z)))))
}

example1 : TT Z {
  example1 ~> substVars (S Z) Z (env (S Z) Z (VC Z (TT Z) (Lam Z (V (S Z) (FZ Z))) (VN (TT Z)))) testTm
}

substTop : (n : Nat) -> TT n -> Fin (S n) -> TT n {
  forall (n : Nat) (tm : TT n)
  substTop n tm (FZ [n]) ~> tm
  
  forall (n : Nat) (tm : TT n) (i : Fin n)
  substTop n tm (FS [n] i) ~> V n i
}

redex : (m : Nat) -> TT m -> TT m -> TT m {
  forall (m : Nat) (y : TT (S m)) (x : TT m)
  redex m (Lam [m] y) x ~> nf m (substVars (S m) m (substTop m (nf m x)) y)
  
  forall (m : Nat) (f' : TT m) (x : TT m)
  redex m f' x ~> App m f' (nf m x)
}

nf : (m : Nat) -> TT m -> TT m {
  forall (m : Nat) (i : Fin m)
  nf m (V [m] i) ~> V m i
  
  forall (m : Nat) (x : TT (S m))
  nf m (Lam [m] x) ~> Lam m (nf (S m) x)
  
  forall (m : Nat) (f : TT m) (x : TT m)
  nf m (App [m] f x) ~> redex m f x
}

example2 : TT (S Z) {
  example2 ~> nf (S Z) testTm
}

constructor Result : Type.

constructor R : (x :R TT Z) -> (y :R TT (S Z)) -> Result.

main :R Result {
  main ~> R example1 example2
}

#############
# Evarified #
#############

constructor Nat :25 Type.

constructor Z :57 Nat.

constructor S :31 (n :32 Nat) -> Nat.

constructor Fin :17 Nat -> Type.

constructor FZ :13 (n :14 Nat) -> Fin (S n).

constructor FS :7 (n :8 Nat) -> Fin n -> Fin (S n).

constructor Vect :54 Nat -> Type -> Type.

constructor VN :50 (a :51 Type) -> Vect Z a.

constructor VC :40 (n :41 Nat) -> (a :42 Type) -> a -> Vect n a -> Vect (S n) a.

constructor TT :33 Nat -> Type.

constructor V :35 (n :36 Nat) -> Fin n -> TT n.

constructor Lam :19 (n :20 Nat) -> TT (S n) -> TT n.

constructor App :0 (n :1 Nat) -> TT n -> TT n -> TT n.

env :58 (m :59 Nat) -> (n :60 Nat) -> Vect m (TT n) -> Fin m -> TT n {
  forall (m :75 Nat) (n :74 Nat) (x :72 TT n) (xs :68 Vect m (TT n))
  env [S m] n (VC [m] [TT n] x xs) (FZ m) ~> x
  
  forall (m :96 Nat) (n :95 Nat) (x :93 TT n) (xs :89 Vect m (TT n)) (i :87 Fin m)
  env [S m] n (VC [m] [TT n] x xs) (FS m i) ~> env m n xs i
}

extendMap :143 (m :144 Nat) -> (n :145 Nat) -> (Fin m -> Fin n) -> Fin (S m) -> Fin (S n) {
  forall (m :160 Nat) (n :159 Nat) (f :155 Fin m -> Fin n)
  extendMap m n f (FZ [m]) ~> FZ n
  
  forall (m :174 Nat) (n :173 Nat) (f :169 Fin m -> Fin n) (i :167 Fin m)
  extendMap m n f (FS [m] i) ~> FS n (f i)
}

mapVars :234 (m :235 Nat) -> (n :236 Nat) -> (Fin m -> Fin n) -> TT m -> TT n {
  forall (m :251 Nat) (n :250 Nat) (f :246 Fin m -> Fin n) (i :244 Fin m)
  mapVars m n f (V [m] i) ~> V n (f i)
  
  forall (m :269 Nat) (n :268 Nat) (f :264 Fin m -> Fin n) (x :261 TT (S m))
  mapVars m n f (Lam [m] x) ~> Lam n (mapVars (S m) (S n) (extendMap m n f) x)
  
  forall (m :296 Nat) (n :295 Nat) (f :291 Fin m -> Fin n) (g :289 TT m) (x :287 TT m)
  mapVars m n f (App [m] g x) ~> App n (mapVars m n f g) (mapVars m n f x)
}

extendSubst :184 (m :185 Nat) -> (n :186 Nat) -> (Fin m -> TT n) -> Fin (S m) -> TT (S n) {
  forall (m :201 Nat) (n :200 Nat) (f :196 Fin m -> TT n)
  extendSubst m n f (FZ [m]) ~> V (S n) (FZ n)
  
  forall (m :218 Nat) (n :217 Nat) (f :213 Fin m -> TT n) (i :211 Fin m)
  extendSubst m n f (FS [m] i) ~> mapVars n (S n) (FS n) (f i)
}

substVars :424 (m :425 Nat) -> (n :426 Nat) -> (Fin m -> TT n) -> TT m -> TT n {
  forall (m :441 Nat) (n :440 Nat) (f :436 Fin m -> TT n) (i :434 Fin m)
  substVars m n f (V [m] i) ~> f i
  
  forall (m :457 Nat) (n :456 Nat) (f :452 Fin m -> TT n) (x :449 TT (S m))
  substVars m n f (Lam [m] x) ~> Lam n (substVars (S m) (S n) (extendSubst m n f) x)
  
  forall (m :484 Nat) (n :483 Nat) (f :479 Fin m -> TT n) (g :477 TT m) (x :475 TT m)
  substVars m n f (App [m] g x) ~> App n (substVars m n f g) (substVars m n f x)
}

testTm :503 TT (S Z) {
  testTm ~> App (S Z) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FZ (S Z))) (V (S (S Z)) (FS (S Z) (FZ Z))))) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FS (S Z) (FZ Z))) (V (S (S Z)) (FZ (S Z)))))
}

example1 :113 TT Z {
  example1 ~> substVars (S Z) Z (env (S Z) Z (VC Z (TT Z) (Lam Z (V (S Z) (FZ Z))) (VN (TT Z)))) testTm
}

substTop :397 (n :398 Nat) -> TT n -> Fin (S n) -> TT n {
  forall (n :407 Nat) (tm :405 TT n)
  substTop n tm (FZ [n]) ~> tm
  
  forall (n :416 Nat) (tm :414 TT n) (i :412 Fin n)
  substTop n tm (FS [n] i) ~> V n i
}

redex :355 (m :356 Nat) -> TT m -> TT m -> TT m {
  forall (m :367 Nat) (y :364 TT (S m)) (x :362 TT m)
  redex m (Lam [m] y) x ~> nf m (substVars (S m) m (substTop m (nf m x)) y)
  
  forall (m :388 Nat) (f' :386 TT m) (x :384 TT m)
  redex m f' x ~> App m f' (nf m x)
}

nf :315 (m :316 Nat) -> TT m -> TT m {
  forall (m :322 Nat) (i :320 Fin m)
  nf m (V [m] i) ~> V m i
  
  forall (m :332 Nat) (x :329 TT (S m))
  nf m (Lam [m] x) ~> Lam m (nf (S m) x)
  
  forall (m :346 Nat) (f :344 TT m) (x :342 TT m)
  nf m (App [m] f x) ~> redex m f x
}

example2 :137 TT (S Z) {
  example2 ~> nf (S Z) testTm
}

constructor Result :30 Type.

constructor R :26 (x :R TT Z) -> (y :R TT (S Z)) -> Result.

main :R Result {
  main ~> R example1 example2
}

Running erasure inference...

########################
# Inferred constraints #
########################

Sums:
  R ≥ Sum
    product  [I]
    product  [I]
  0 ≥ Sum
    product  []
    product  []
    product  []
    product  [507, 510]
    product  [506, 532]
    product  []
  1 ≥ Sum
    product  [I]
    product  [I, 3]
    product  [I, 5]
    product  [I, 6]
  2 ≥ Sum
    product  [I]
  4 ≥ Sum
    product  [I]
  7 ≥ Sum
    product  []
    product  [226]
    product  [507, 510, 513, 524]
    product  [506, 532, 536, 540]
  8 ≥ Sum
    product  [I]
    product  [I, 10]
    product  [I, 11, 12]
  9 ≥ Sum
    product  [I]
    product  [I]
  13 ≥ Sum
    product  []
    product  [207]
    product  [507, 510, 514, 518]
    product  [507, 510, 513, 524, 528]
    product  [506, 532, 536, 540, 544]
    product  [506, 532, 535, 548]
    product  [116, 120, 125, 129, 131]
  14 ≥ Sum
    product  [I]
    product  [I, 15, 16]
  17 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  18 ≥ Sum
    product  [I]
  19 ≥ Sum
    product  []
    product  []
    product  [507]
    product  [506]
    product  [116, 120, 125]
    product  []
  20 ≥ Sum
    product  [I]
    product  [I, 22, 23]
    product  [I, 24]
  21 ≥ Sum
    product  [I]
  25 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  26 ≥ Sum
    product  []
  30 ≥ Sum
    product  [I]
    product  [I]
  31 ≥ Sum
    product  [I, 15]
    product  [I, 11]
    product  [I, 48]
    product  [I, 22]
    product  [I]
    product  [I]
    product  [I, 151]
    product  [I, 153]
    product  [I, 262]
    product  [276, 281]
    product  [276, 280]
    product  [I, 192]
    product  [I, 194]
    product  [208]
    product  [227]
    product  [I, 450]
    product  [464, 469]
    product  [464, 468]
    product  [I, 504]
    product  [508]
    product  [507, 511]
    product  [507, 510, 515]
    product  [507, 510, 515, 516]
    product  [507, 510, 514, 519]
    product  [507, 510, 514, 519, 520]
    product  [507, 510, 514, 518, 522]
    product  [507, 510, 513, 525]
    product  [507, 510, 513, 525, 526]
    product  [507, 510, 513, 524, 529]
    product  [506, 533]
    product  [506, 532, 537]
    product  [506, 532, 537, 538]
    product  [506, 532, 536, 541]
    product  [506, 532, 536, 541, 542]
    product  [506, 532, 536, 540, 545]
    product  [506, 532, 535, 549]
    product  [506, 532, 535, 549, 550]
    product  [506, 532, 535, 548, 552]
    product  [118]
    product  [116, 122]
    product  [116, 120, 125, 129, 132]
    product  [I, 402]
    product  [I, 365]
    product  [373, 378]
    product  [I, 330]
    product  [337, 340]
    product  [I, 138]
    product  [141]
    product  [I, 28]
  32 ≥ Sum
    product  [I]
  33 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I, 62]
    product  [I]
    product  [I]
    product  [I, 69]
    product  [I]
    product  [I]
    product  [I, 90]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [116, 120, 126]
    product  [116, 120, 124, 135]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  34 ≥ Sum
    product  [I]
  35 ≥ Sum
    product  []
    product  []
    product  [507, 510, 514]
    product  [507, 510, 513]
    product  [506, 532, 536]
    product  [506, 532, 535]
    product  [116, 120, 125, 129]
    product  []
    product  []
  36 ≥ Sum
    product  [I]
    product  [I, 38]
    product  [I, 39]
  37 ≥ Sum
    product  [I]
  40 ≥ Sum
    product  [116, 120]
  41 ≥ Sum
    product  [I]
    product  [I, 46]
    product  [I, 48, 49]
  42 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 45]
    product  [I, 47]
  43 ≥ Sum
    product  [I]
  44 ≥ Sum
    product  [I]
  50 ≥ Sum
    product  [116, 120, 124]
  51 ≥ Sum
    product  [I]
    product  [I, 52]
  54 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  55 ≥ Sum
    product  [I]
  56 ≥ Sum
    product  [I]
  57 ≥ Sum
    product  [I, 53]
    product  [I, 504, 505]
    product  [508, 509]
    product  [507, 511, 512]
    product  [507, 510, 515, 516, 517]
    product  [507, 510, 514, 519, 520, 521]
    product  [507, 510, 514, 518, 522, 523]
    product  [507, 510, 513, 525, 526, 527]
    product  [507, 510, 513, 524, 529, 530]
    product  [507, 510, 513, 524, 528, 531]
    product  [506, 533, 534]
    product  [506, 532, 537, 538, 539]
    product  [506, 532, 536, 541, 542, 543]
    product  [506, 532, 536, 540, 545, 546]
    product  [506, 532, 536, 540, 544, 547]
    product  [506, 532, 535, 549, 550, 551]
    product  [506, 532, 535, 548, 552, 553]
    product  [I, 114]
    product  [118, 119]
    product  [117]
    product  [116, 122, 123]
    product  [116, 121]
    product  [116, 120, 127]
    product  [116, 120, 126, 128]
    product  [116, 120, 125, 130]
    product  [116, 120, 125, 129, 132, 133]
    product  [116, 120, 125, 129, 131, 134]
    product  [116, 120, 124, 135, 136]
    product  [I, 138, 139]
    product  [141, 142]
    product  [I, 27]
    product  [I, 28, 29]
  58 ≥ Sum
    product  []
    product  [116]
  59 ≥ Sum
    product  [I]
    product  [I, 63]
    product  [I, 66]
  60 ≥ Sum
    product  [I]
    product  [I, 62, 64]
    product  [I, 67]
  61 ≥ Sum
    product  [I]
  65 ≥ Sum
    product  [I]
    product  [I]
  68 ≥ Sum
    product  [I]
  72 ≥ Sum
    product  [I]
    product  [I]
    product  []
  74 ≥ Sum
    product  [I]
    product  [I, 73]
    product  [I]
    product  [I, 69, 71]
    product  [I]
    product  [I, 82]
  75 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I, 70]
    product  [I]
    product  [I, 77]
    product  [I]
  87 ≥ Sum
    product  [I]
    product  [109]
  89 ≥ Sum
    product  [I]
    product  [I]
    product  [110]
  93 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
  95 ≥ Sum
    product  [I]
    product  [I, 94]
    product  [I]
    product  [I, 90, 92]
    product  [I]
    product  [I]
    product  [I, 103]
    product  [111]
  96 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I, 91]
    product  [I]
    product  [I, 88]
    product  [I]
    product  [I, 98]
    product  [I]
    product  [112]
  113 ≥ Sum
    product  [233]
  137 ≥ Sum
    product  [232]
  143 ≥ Sum
    product  [276, 279]
  144 ≥ Sum
    product  [I]
    product  [I, 148]
    product  [I, 151, 152]
  145 ≥ Sum
    product  [I]
    product  [I, 149]
    product  [I, 153, 154]
  146 ≥ Sum
    product  [I]
  147 ≥ Sum
    product  [I]
  150 ≥ Sum
    product  [I]
    product  [I]
  155 ≥ Sum
    product  [I]
  156 ≥ Sum
    product  [I]
    product  [I]
  159 ≥ Sum
    product  [I]
    product  [I, 158]
    product  [I]
    product  [166]
  160 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 157]
    product  [I]
    product  [I]
  167 ≥ Sum
    product  [I]
    product  [181, 183]
  169 ≥ Sum
    product  [I]
    product  [I]
    product  [181]
  170 ≥ Sum
    product  [I]
    product  [I]
  173 ≥ Sum
    product  [I]
    product  [I, 172]
    product  [I]
    product  [I]
    product  [182]
  174 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 171]
    product  [I]
    product  [I, 168]
    product  [I]
    product  [I]
  184 ≥ Sum
    product  [464, 467]
  185 ≥ Sum
    product  [I]
    product  [I, 189]
    product  [I, 192, 193]
  186 ≥ Sum
    product  [I]
    product  [I, 190]
    product  [I, 194, 195]
  187 ≥ Sum
    product  [I]
  188 ≥ Sum
    product  [I]
  191 ≥ Sum
    product  [I]
    product  [I]
  196 ≥ Sum
    product  [I]
  197 ≥ Sum
    product  [I]
    product  [I]
  200 ≥ Sum
    product  [I]
    product  [I, 199]
    product  [I]
    product  [208, 209]
    product  [207, 210]
  201 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 198]
    product  [I]
    product  [I]
  211 ≥ Sum
    product  [I]
    product  [225, 231]
  213 ≥ Sum
    product  [I]
    product  [I]
    product  [225]
  214 ≥ Sum
    product  [I]
    product  [I]
  217 ≥ Sum
    product  [I]
    product  [I, 216]
    product  [I]
    product  [I]
    product  [228]
    product  [227, 229]
    product  [226, 230]
  218 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 215]
    product  [I]
    product  [I, 212]
    product  [I]
    product  [I]
  234 ≥ Sum
    product  [276]
    product  [305]
    product  [304]
    product  []
  235 ≥ Sum
    product  [I]
    product  [I, 239]
    product  [I, 242]
  236 ≥ Sum
    product  [I]
    product  [I, 240]
    product  [I, 243]
  237 ≥ Sum
    product  [I]
  238 ≥ Sum
    product  [I]
  241 ≥ Sum
    product  [I]
  244 ≥ Sum
    product  [I]
    product  [258, 260]
  246 ≥ Sum
    product  [I]
    product  [I]
    product  [258]
  247 ≥ Sum
    product  [I]
    product  [I]
  250 ≥ Sum
    product  [I]
    product  [I, 249]
    product  [I]
    product  [I]
    product  [259]
  251 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 248]
    product  [I]
    product  [I, 245]
    product  [I]
    product  [I]
  261 ≥ Sum
    product  [I]
    product  [276, 278]
  264 ≥ Sum
    product  [I]
    product  [I]
    product  [276, 279, 284]
  265 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
  268 ≥ Sum
    product  [I]
    product  [I, 267]
    product  [I]
    product  [I]
    product  [277]
    product  [276, 280, 283]
    product  [276, 279, 285]
  269 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 266]
    product  [I]
    product  [I, 262, 263]
    product  [I]
    product  [I]
    product  [276, 281, 282]
    product  [276, 279, 286]
  287 ≥ Sum
    product  [I]
    product  [304, 311]
  289 ≥ Sum
    product  [I]
    product  [I]
    product  [305, 307]
  291 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [305, 308]
    product  [304, 312]
  292 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  295 ≥ Sum
    product  [I]
    product  [I, 294]
    product  [I]
    product  [I]
    product  [I]
    product  [306]
    product  [305, 309]
    product  [304, 313]
  296 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 293]
    product  [I]
    product  [I, 290]
    product  [I]
    product  [I, 288]
    product  [I]
    product  [I]
    product  [305, 310]
    product  [304, 314]
  315 ≥ Sum
    product  []
    product  [373, 376, 380]
    product  [392]
    product  [337]
    product  []
  316 ≥ Sum
    product  [I]
    product  [I, 318]
    product  [I, 319]
  317 ≥ Sum
    product  [I]
  320 ≥ Sum
    product  [I]
    product  [327]
  322 ≥ Sum
    product  [I]
    product  [I, 321]
    product  [I]
    product  [I]
    product  [328]
  329 ≥ Sum
    product  [I]
    product  [337, 339]
  332 ≥ Sum
    product  [I]
    product  [I, 330, 331]
    product  [I]
    product  [I]
    product  [338]
    product  [337, 340, 341]
  342 ≥ Sum
    product  [I]
    product  [352]
  344 ≥ Sum
    product  [I]
    product  [I]
    product  [353]
  346 ≥ Sum
    product  [I]
    product  [I, 345]
    product  [I]
    product  [I, 343]
    product  [I]
    product  [I]
    product  [354]
  355 ≥ Sum
    product  []
  356 ≥ Sum
    product  [I]
    product  [I, 358]
    product  [I, 360]
    product  [I, 361]
  357 ≥ Sum
    product  [I]
  359 ≥ Sum
    product  [I]
  362 ≥ Sum
    product  [I]
    product  [373, 376, 380, 382]
  364 ≥ Sum
    product  [I]
    product  [I]
    product  [373, 375]
  367 ≥ Sum
    product  [I]
    product  [I, 365, 366]
    product  [I]
    product  [I, 363]
    product  [I]
    product  [I]
    product  [374]
    product  [373, 378, 379]
    product  [373, 377]
    product  [373, 376, 381]
    product  [373, 376, 380, 383]
  384 ≥ Sum
    product  [I]
    product  [392, 395]
  386 ≥ Sum
    product  [I]
    product  [I]
    product  [393]
  388 ≥ Sum
    product  [I]
    product  [I, 387]
    product  [I]
    product  [I, 385]
    product  [I]
    product  [394]
    product  [392, 396]
  397 ≥ Sum
    product  [373, 376]
  398 ≥ Sum
    product  [I]
    product  [I, 400]
    product  [I, 402, 403]
    product  [I, 404]
  399 ≥ Sum
    product  [I]
  401 ≥ Sum
    product  [I]
    product  [I]
  405 ≥ Sum
    product  [I]
    product  []
  407 ≥ Sum
    product  [I]
    product  [I, 406]
    product  [I]
    product  [I]
  412 ≥ Sum
    product  [I]
    product  [422]
  414 ≥ Sum
    product  [I]
    product  [I]
  416 ≥ Sum
    product  [I]
    product  [I, 415]
    product  [I]
    product  [I, 413]
    product  [I]
    product  [I]
    product  [423]
  424 ≥ Sum
    product  [464]
    product  [493]
    product  [492]
    product  []
    product  [373]
  425 ≥ Sum
    product  [I]
    product  [I, 429]
    product  [I, 432]
  426 ≥ Sum
    product  [I]
    product  [I, 430]
    product  [I, 433]
  427 ≥ Sum
    product  [I]
  428 ≥ Sum
    product  [I]
  431 ≥ Sum
    product  [I]
  434 ≥ Sum
    product  [I]
    product  [448]
  436 ≥ Sum
    product  [I]
    product  [I]
    product  []
  437 ≥ Sum
    product  [I]
    product  [I]
  440 ≥ Sum
    product  [I]
    product  [I, 439]
    product  [I]
    product  [I]
  441 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 438]
    product  [I]
    product  [I, 435]
    product  [I]
    product  [I]
  449 ≥ Sum
    product  [I]
    product  [464, 466]
  452 ≥ Sum
    product  [I]
    product  [I]
    product  [464, 467, 472]
  453 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
  456 ≥ Sum
    product  [I]
    product  [I, 455]
    product  [I]
    product  [I]
    product  [465]
    product  [464, 468, 471]
    product  [464, 467, 473]
  457 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 454]
    product  [I]
    product  [I, 450, 451]
    product  [I]
    product  [I]
    product  [464, 469, 470]
    product  [464, 467, 474]
  475 ≥ Sum
    product  [I]
    product  [492, 499]
  477 ≥ Sum
    product  [I]
    product  [I]
    product  [493, 495]
  479 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [493, 496]
    product  [492, 500]
  480 ≥ Sum
    product  [I]
    product  [I]
    product  [I]
    product  [I]
  483 ≥ Sum
    product  [I]
    product  [I, 482]
    product  [I]
    product  [I]
    product  [I]
    product  [494]
    product  [493, 497]
    product  [492, 501]
  484 ≥ Sum
    product  [I]
    product  [I]
    product  [I, 481]
    product  [I]
    product  [I, 478]
    product  [I]
    product  [I, 476]
    product  [I]
    product  [I]
    product  [493, 498]
    product  [492, 502]
  503 ≥ Sum
    product  [115]
    product  [140]

Maxes:
  R ≥ Max
    product  [233]
    product  [232]
  1 ≥ Max
    product  [301]
    product  [306]
    product  [489]
    product  [494]
    product  [508]
    product  [515]
    product  [537]
    product  [394]
    product  [349]
  2 ≥ Max
    product  [302]
    product  [305]
    product  [490]
    product  [493]
    product  [514]
    product  [507]
    product  [536]
    product  [393]
    product  [350]
  3 ≥ Max
    product  [34]
    product  [290]
    product  [243]
    product  [478]
    product  [433]
    product  [39]
    product  [24]
    product  [39]
    product  [387]
    product  [345]
  4 ≥ Max
    product  [303]
    product  [304]
    product  [491]
    product  [492]
    product  [513]
    product  [535]
    product  [506]
    product  [392]
    product  [351]
  5 ≥ Max
    product  [34]
    product  [288]
    product  [243]
    product  [476]
    product  [433]
    product  [39]
    product  [39]
    product  [24]
    product  [319]
    product  [343]
  6 ≥ Max
    product  [34]
    product  [242]
    product  [243]
    product  [432]
    product  [433]
    product  [22]
    product  [22]
    product  [504]
    product  [361]
    product  [318]
  8 ≥ Max
    product  [107]
    product  [179]
    product  [182]
    product  [223]
    product  [230]
    product  [529]
    product  [545]
    product  [420]
  9 ≥ Max
    product  [108]
    product  [180]
    product  [181]
    product  [224]
    product  [238]
    product  [528]
    product  [544]
    product  [421]
  10 ≥ Max
    product  [18]
    product  [88]
    product  [168]
    product  [172]
    product  [212]
    product  [239]
    product  [15]
    product  [15]
    product  [413]
  11 ≥ Max
    product  [18]
    product  [66]
    product  [151]
    product  [153]
    product  [192]
    product  [240]
    product  [38]
    product  [38]
    product  [402]
  12 ≥ Max
    product  [32]
  14 ≥ Max
    product  [86]
    product  [165]
    product  [166]
    product  [206]
    product  [210]
    product  [522]
    product  [531]
    product  [547]
    product  [552]
    product  [134]
    product  [411]
  15 ≥ Max
    product  [18]
    product  [66]
    product  [151]
    product  [153]
    product  [192]
    product  [38]
    product  [38]
    product  [10]
    product  [10]
    product  [38]
    product  [38]
    product  [402]
  16 ≥ Max
    product  [32]
  18 ≥ Max
    product  [15]
    product  [10]
    product  [11]
    product  [38]
    product  [66]
    product  [88]
    product  [148]
    product  [149]
    product  [151]
    product  [153]
    product  [157]
    product  [158]
    product  [171]
    product  [172]
    product  [168]
    product  [239]
    product  [240]
    product  [248]
    product  [249]
    product  [245]
    product  [266]
    product  [267]
    product  [293]
    product  [294]
    product  [189]
    product  [192]
    product  [198]
    product  [215]
    product  [212]
    product  [429]
    product  [438]
    product  [435]
    product  [454]
    product  [481]
    product  [402]
    product  [413]
    product  [321]
  20 ≥ Max
    product  [274]
    product  [277]
    product  [462]
    product  [465]
    product  [511]
    product  [533]
    product  [130]
    product  [370]
    product  [335]
    product  [338]
  21 ≥ Max
    product  [275]
    product  [276]
    product  [463]
    product  [464]
    product  [510]
    product  [532]
    product  [129]
    product  [371]
    product  [336]
    product  [337]
  22 ≥ Max
    product  [34]
    product  [262]
    product  [243]
    product  [450]
    product  [433]
    product  [6]
    product  [6]
    product  [39]
    product  [365]
    product  [330]
    product  [319]
  23 ≥ Max
    product  [32]
  24 ≥ Max
    product  [34]
    product  [242]
    product  [243]
    product  [432]
    product  [433]
    product  [3]
    product  [5]
    product  [128]
    product  [358]
    product  [318]
    product  [319]
  27 ≥ Max
    product  [34]
    product  [114]
  28 ≥ Max
    product  [34]
    product  [138]
  29 ≥ Max
    product  [32]
  32 ≥ Max
    product  [16]
    product  [12]
    product  [49]
    product  [23]
    product  [77]
    product  [98]
    product  [152]
    product  [154]
    product  [263]
    product  [282]
    product  [283]
    product  [193]
    product  [195]
    product  [209]
    product  [229]
    product  [451]
    product  [470]
    product  [471]
    product  [505]
    product  [509]
    product  [512]
    product  [517]
    product  [516]
    product  [521]
    product  [520]
    product  [523]
    product  [527]
    product  [526]
    product  [530]
    product  [534]
    product  [539]
    product  [538]
    product  [543]
    product  [542]
    product  [546]
    product  [551]
    product  [550]
    product  [553]
    product  [119]
    product  [123]
    product  [133]
    product  [403]
    product  [366]
    product  [379]
    product  [331]
    product  [341]
    product  [139]
    product  [142]
    product  [29]
  34 ≥ Max
    product  [39]
    product  [22]
    product  [24]
    product  [3]
    product  [5]
    product  [6]
    product  [64]
    product  [67]
    product  [73]
    product  [71]
    product  [82]
    product  [94]
    product  [92]
    product  [103]
    product  [242]
    product  [243]
    product  [262]
    product  [290]
    product  [288]
    product  [190]
    product  [194]
    product  [199]
    product  [216]
    product  [430]
    product  [432]
    product  [433]
    product  [439]
    product  [455]
    product  [450]
    product  [482]
    product  [478]
    product  [476]
    product  [504]
    product  [114]
    product  [128]
    product  [136]
    product  [400]
    product  [404]
    product  [406]
    product  [415]
    product  [358]
    product  [360]
    product  [361]
    product  [365]
    product  [363]
    product  [387]
    product  [385]
    product  [318]
    product  [319]
    product  [330]
    product  [345]
    product  [343]
    product  [138]
    product  [27]
    product  [28]
  36 ≥ Max
    product  [256]
    product  [259]
    product  [208]
    product  [446]
    product  [519]
    product  [525]
    product  [541]
    product  [549]
    product  [132]
    product  [423]
    product  [325]
    product  [328]
  37 ≥ Max
    product  [257]
    product  [258]
    product  [207]
    product  [447]
    product  [518]
    product  [524]
    product  [540]
    product  [548]
    product  [131]
    product  [422]
    product  [326]
    product  [327]
  38 ≥ Max
    product  [18]
    product  [245]
    product  [249]
    product  [15]
    product  [435]
    product  [15]
    product  [11]
    product  [11]
    product  [15]
    product  [15]
    product  [413]
    product  [321]
    product  [321]
  39 ≥ Max
    product  [34]
    product  [242]
    product  [243]
    product  [194]
    product  [432]
    product  [3]
    product  [5]
    product  [3]
    product  [5]
    product  [22]
    product  [404]
    product  [318]
    product  [319]
  41 ≥ Max
    product  [80]
    product  [101]
    product  [127]
  42 ≥ Max
    product  [81]
    product  [102]
    product  [126]
  43 ≥ Max
    product  [83]
    product  [104]
    product  [125]
  44 ≥ Max
    product  [84]
    product  [105]
    product  [124]
  45 ≥ Max
    product  [56]
    product  [69]
    product  [90]
    product  [52]
  46 ≥ Max
    product  [55]
    product  [70]
    product  [91]
    product  [53]
  47 ≥ Max
    product  [56]
    product  [62]
    product  [62]
    product  [62]
  48 ≥ Max
    product  [55]
    product  [63]
    product  [63]
    product  [63]
  49 ≥ Max
    product  [32]
  51 ≥ Max
    product  [135]
  52 ≥ Max
    product  [56]
    product  [45]
  53 ≥ Max
    product  [55]
    product  [46]
  55 ≥ Max
    product  [53]
    product  [46]
    product  [48]
    product  [63]
    product  [70]
    product  [91]
  56 ≥ Max
    product  [52]
    product  [45]
    product  [47]
    product  [62]
    product  [69]
    product  [90]
  59 ≥ Max
    product  [76]
    product  [97]
    product  [112]
    product  [122]
  60 ≥ Max
    product  [78]
    product  [99]
    product  [111]
    product  [121]
  61 ≥ Max
    product  [79]
    product  [100]
    product  [110]
    product  [120]
  62 ≥ Max
    product  [56]
    product  [47]
    product  [47]
    product  [90]
    product  [47]
  63 ≥ Max
    product  [55]
    product  [48]
    product  [48]
    product  [91]
    product  [48]
  64 ≥ Max
    product  [34]
  65 ≥ Max
    product  [85]
    product  [106]
    product  [109]
    product  [428]
  66 ≥ Max
    product  [18]
    product  [15]
    product  [11]
    product  [88]
    product  [429]
  67 ≥ Max
    product  [34]
    product  [73]
    product  [67]
    product  [67]
    product  [430]
  68 ≥ Max
    product  [79, 84]
  69 ≥ Max
    product  [56]
    product  [45]
  70 ≥ Max
    product  [55]
    product  [46]
  71 ≥ Max
    product  [34]
  72 ≥ Max
    product  [79, 83]
  73 ≥ Max
    product  [34]
    product  [82]
    product  [67]
  74 ≥ Max
    product  [78]
  75 ≥ Max
    product  [85, 86]
  76 ≥ Max
    product  [59]
  77 ≥ Max
    product  [32]
  78 ≥ Max
    product  [74]
    product  [60]
  79 ≥ Max
    product  [L]
    product  [72]
    product  [68]
    product  [61]
  80 ≥ Max
    product  [41]
  81 ≥ Max
    product  [42]
  82 ≥ Max
    product  [34]
    product  [73]
  83 ≥ Max
    product  [72]
    product  [43]
  84 ≥ Max
    product  [68]
    product  [44]
  85 ≥ Max
    product  [L]
    product  [75]
    product  [65]
  86 ≥ Max
    product  [75]
    product  [14]
  87 ≥ Max
    product  [106, 108]
  88 ≥ Max
    product  [18]
    product  [10]
    product  [66]
  89 ≥ Max
    product  [100, 105]
  90 ≥ Max
    product  [56]
    product  [45]
    product  [62]
  91 ≥ Max
    product  [55]
    product  [46]
    product  [63]
  92 ≥ Max
    product  [34]
  93 ≥ Max
    product  [100, 104]
  94 ≥ Max
    product  [34]
    product  [103]
  95 ≥ Max
    product  [99]
  96 ≥ Max
    product  [106, 107]
  97 ≥ Max
    product  [59]
  98 ≥ Max
    product  [32]
  99 ≥ Max
    product  [95]
    product  [60]
  100 ≥ Max
    product  [L]
    product  [93]
    product  [89]
    product  [61]
  101 ≥ Max
    product  [41]
  102 ≥ Max
    product  [42]
  103 ≥ Max
    product  [34]
    product  [94]
  104 ≥ Max
    product  [93]
    product  [43]
  105 ≥ Max
    product  [89]
    product  [44]
  106 ≥ Max
    product  [L]
    product  [96]
    product  [87]
    product  [65]
  107 ≥ Max
    product  [96]
    product  [8]
  108 ≥ Max
    product  [87]
    product  [9]
  109 ≥ Max
    product  [65]
  110 ≥ Max
    product  [61]
  111 ≥ Max
    product  [60]
  112 ≥ Max
    product  [59]
  114 ≥ Max
    product  [34]
    product  [433]
    product  [27]
  115 ≥ Max
    product  [431]
  116 ≥ Max
    product  [427]
  117 ≥ Max
    product  [426]
  118 ≥ Max
    product  [425]
  119 ≥ Max
    product  [32]
  120 ≥ Max
    product  [61]
  121 ≥ Max
    product  [60]
  122 ≥ Max
    product  [59]
  123 ≥ Max
    product  [32]
  124 ≥ Max
    product  [44]
  125 ≥ Max
    product  [43]
  126 ≥ Max
    product  [42]
  127 ≥ Max
    product  [41]
  128 ≥ Max
    product  [34]
    product  [24]
  129 ≥ Max
    product  [21]
  130 ≥ Max
    product  [20]
  131 ≥ Max
    product  [37]
  132 ≥ Max
    product  [36]
  133 ≥ Max
    product  [32]
  134 ≥ Max
    product  [14]
  135 ≥ Max
    product  [51]
  136 ≥ Max
    product  [34]
  138 ≥ Max
    product  [34]
    product  [319]
    product  [28]
  139 ≥ Max
    product  [32]
  140 ≥ Max
    product  [317]
  141 ≥ Max
    product  [316]
  142 ≥ Max
    product  [32]
  144 ≥ Max
    product  [161]
    product  [175]
    product  [286]
  145 ≥ Max
    product  [162]
    product  [176]
    product  [285]
  146 ≥ Max
    product  [163]
    product  [177]
    product  [284]
  147 ≥ Max
    product  [156]
    product  [170]
    product  [265]
  148 ≥ Max
    product  [18]
    product  [157]
    product  [171]
    product  [266]
  149 ≥ Max
    product  [18]
    product  [158]
    product  [172]
    product  [267]
  150 ≥ Max
    product  [164]
    product  [178]
    product  [238]
  151 ≥ Max
    product  [18]
    product  [15]
    product  [11]
    product  [239]
  152 ≥ Max
    product  [32]
  153 ≥ Max
    product  [18]
    product  [15]
    product  [11]
    product  [240]
  154 ≥ Max
    product  [32]
  155 ≥ Max
    product  [163]
  156 ≥ Max
    product  [147]
  157 ≥ Max
    product  [18]
    product  [148]
  158 ≥ Max
    product  [18]
    product  [149]
  159 ≥ Max
    product  [162]
  160 ≥ Max
    product  [161]
  161 ≥ Max
    product  [160]
    product  [144]
  162 ≥ Max
    product  [159]
    product  [145]
  163 ≥ Max
    product  [155]
    product  [146]
  164 ≥ Max
    product  [L]
    product  [150]
  165 ≥ Max
    product  [14]
  166 ≥ Max
    product  [14]
  167 ≥ Max
    product  [178, 180]
  168 ≥ Max
    product  [18]
    product  [10]
    product  [171]
  169 ≥ Max
    product  [177]
  170 ≥ Max
    product  [147]
    product  [183]
  171 ≥ Max
    product  [18]
    product  [148]
    product  [168]
  172 ≥ Max
    product  [18]
    product  [149]
    product  [10]
  173 ≥ Max
    product  [176]
  174 ≥ Max
    product  [175]
  175 ≥ Max
    product  [174]
    product  [144]
  176 ≥ Max
    product  [173]
    product  [145]
  177 ≥ Max
    product  [169]
    product  [146]
  178 ≥ Max
    product  [L]
    product  [167]
    product  [150]
  179 ≥ Max
    product  [8]
  180 ≥ Max
    product  [167]
    product  [9]
  181 ≥ Max
    product  [9]
  182 ≥ Max
    product  [8]
  183 ≥ Max
    product  [170]
  185 ≥ Max
    product  [202]
    product  [219]
    product  [474]
  186 ≥ Max
    product  [203]
    product  [220]
    product  [473]
  187 ≥ Max
    product  [204]
    product  [221]
    product  [472]
  188 ≥ Max
    product  [197]
    product  [214]
    product  [453]
  189 ≥ Max
    product  [18]
    product  [198]
    product  [215]
    product  [454]
  190 ≥ Max
    product  [34]
    product  [199]
    product  [216]
    product  [455]
  191 ≥ Max
    product  [205]
    product  [222]
    product  [428]
  192 ≥ Max
    product  [18]
    product  [15]
    product  [11]
    product  [429]
  193 ≥ Max
    product  [32]
  194 ≥ Max
    product  [34]
    product  [39]
    product  [243]
    product  [430]
  195 ≥ Max
    product  [32]
  196 ≥ Max
    product  [204]
  197 ≥ Max
    product  [188]
  198 ≥ Max
    product  [18]
    product  [189]
  199 ≥ Max
    product  [34]
    product  [190]
  200 ≥ Max
    product  [203]
  201 ≥ Max
    product  [202]
  202 ≥ Max
    product  [201]
    product  [185]
  203 ≥ Max
    product  [200]
    product  [186]
  204 ≥ Max
    product  [196]
    product  [187]
  205 ≥ Max
    product  [L]
    product  [191]
  206 ≥ Max
    product  [14]
  207 ≥ Max
    product  [37]
  208 ≥ Max
    product  [36]
  209 ≥ Max
    product  [32]
  210 ≥ Max
    product  [14]
  211 ≥ Max
    product  [222, 224]
  212 ≥ Max
    product  [18]
    product  [10]
    product  [215]
  213 ≥ Max
    product  [221]
  214 ≥ Max
    product  [188]
    product  [231]
  215 ≥ Max
    product  [18]
    product  [189]
    product  [212]
  216 ≥ Max
    product  [34]
    product  [190]
    product  [242]
  217 ≥ Max
    product  [220]
  218 ≥ Max
    product  [219]
  219 ≥ Max
    product  [218]
    product  [185]
  220 ≥ Max
    product  [217]
    product  [186]
  221 ≥ Max
    product  [213]
    product  [187]
  222 ≥ Max
    product  [L]
    product  [211]
    product  [191]
  223 ≥ Max
    product  [8]
  224 ≥ Max
    product  [211]
    product  [9]
  225 ≥ Max
    product  [241]
  226 ≥ Max
    product  [237]
  227 ≥ Max
    product  [236]
  228 ≥ Max
    product  [235]
  229 ≥ Max
    product  [32]
  230 ≥ Max
    product  [8]
  231 ≥ Max
    product  [214]
  232 ≥ Max
    product  [R]
  233 ≥ Max
    product  [R]
  235 ≥ Max
    product  [252]
    product  [270]
    product  [281]
    product  [297]
    product  [310]
    product  [314]
    product  [228]
  236 ≥ Max
    product  [253]
    product  [271]
    product  [280]
    product  [298]
    product  [309]
    product  [313]
    product  [227]
  237 ≥ Max
    product  [254]
    product  [272]
    product  [279]
    product  [299]
    product  [308]
    product  [312]
    product  [226]
  238 ≥ Max
    product  [247]
    product  [265]
    product  [150]
    product  [292]
    product  [292]
    product  [292]
    product  [9]
  239 ≥ Max
    product  [18]
    product  [248]
    product  [266]
    product  [151]
    product  [293]
    product  [293]
    product  [293]
    product  [10]
  240 ≥ Max
    product  [18]
    product  [249]
    product  [267]
    product  [153]
    product  [294]
    product  [294]
    product  [294]
    product  [11]
  241 ≥ Max
    product  [255]
    product  [273]
    product  [278]
    product  [300]
    product  [307]
    product  [311]
    product  [225]
  242 ≥ Max
    product  [34]
    product  [39]
    product  [24]
    product  [262]
    product  [6]
    product  [290]
    product  [288]
    product  [216]
  243 ≥ Max
    product  [34]
    product  [39]
    product  [22]
    product  [24]
    product  [3]
    product  [5]
    product  [6]
    product  [194]
  244 ≥ Max
    product  [255, 257]
  245 ≥ Max
    product  [18]
    product  [38]
    product  [248]
  246 ≥ Max
    product  [254]
  247 ≥ Max
    product  [238]
    product  [260]
  248 ≥ Max
    product  [18]
    product  [239]
    product  [245]
  249 ≥ Max
    product  [18]
    product  [240]
    product  [38]
  250 ≥ Max
    product  [253]
  251 ≥ Max
    product  [252]
  252 ≥ Max
    product  [251]
    product  [235]
  253 ≥ Max
    product  [250]
    product  [236]
  254 ≥ Max
    product  [246]
    product  [237]
  255 ≥ Max
    product  [L]
    product  [244]
    product  [241]
  256 ≥ Max
    product  [36]
  257 ≥ Max
    product  [244]
    product  [37]
  258 ≥ Max
    product  [37]
  259 ≥ Max
    product  [36]
  260 ≥ Max
    product  [247]
  261 ≥ Max
    product  [273, 275]
  262 ≥ Max
    product  [34]
    product  [22]
    product  [242]
  263 ≥ Max
    product  [32]
  264 ≥ Max
    product  [272]
  265 ≥ Max
    product  [238]
    product  [147]
  266 ≥ Max
    product  [18]
    product  [239]
    product  [148]
  267 ≥ Max
    product  [18]
    product  [240]
    product  [149]
  268 ≥ Max
    product  [271]
  269 ≥ Max
    product  [270]
  270 ≥ Max
    product  [269]
    product  [235]
  271 ≥ Max
    product  [268]
    product  [236]
  272 ≥ Max
    product  [264]
    product  [237]
  273 ≥ Max
    product  [L]
    product  [261]
    product  [241]
  274 ≥ Max
    product  [20]
  275 ≥ Max
    product  [261]
    product  [21]
  276 ≥ Max
    product  [21]
  277 ≥ Max
    product  [20]
  278 ≥ Max
    product  [241]
  279 ≥ Max
    product  [237]
  280 ≥ Max
    product  [236]
  281 ≥ Max
    product  [235]
  282 ≥ Max
    product  [32]
  283 ≥ Max
    product  [32]
  284 ≥ Max
    product  [146]
  285 ≥ Max
    product  [145]
  286 ≥ Max
    product  [144]
  287 ≥ Max
    product  [300, 303]
  288 ≥ Max
    product  [34]
    product  [5]
    product  [242]
  289 ≥ Max
    product  [300, 302]
  290 ≥ Max
    product  [34]
    product  [3]
    product  [242]
  291 ≥ Max
    product  [299]
  292 ≥ Max
    product  [238]
    product  [238]
    product  [238]
  293 ≥ Max
    product  [18]
    product  [239]
    product  [239]
    product  [239]
  294 ≥ Max
    product  [18]
    product  [240]
    product  [240]
    product  [240]
  295 ≥ Max
    product  [298]
  296 ≥ Max
    product  [297]
  297 ≥ Max
    product  [296]
    product  [235]
  298 ≥ Max
    product  [295]
    product  [236]
  299 ≥ Max
    product  [291]
    product  [237]
  300 ≥ Max
    product  [L]
    product  [289]
    product  [287]
    product  [241]
  301 ≥ Max
    product  [1]
  302 ≥ Max
    product  [289]
    product  [2]
  303 ≥ Max
    product  [287]
    product  [4]
  304 ≥ Max
    product  [4]
  305 ≥ Max
    product  [2]
  306 ≥ Max
    product  [1]
  307 ≥ Max
    product  [241]
  308 ≥ Max
    product  [237]
  309 ≥ Max
    product  [236]
  310 ≥ Max
    product  [235]
  311 ≥ Max
    product  [241]
  312 ≥ Max
    product  [237]
  313 ≥ Max
    product  [236]
  314 ≥ Max
    product  [235]
  316 ≥ Max
    product  [374]
    product  [383]
    product  [396]
    product  [323]
    product  [333]
    product  [340]
    product  [347]
    product  [141]
  317 ≥ Max
    product  [382]
    product  [373]
    product  [395]
    product  [324]
    product  [334]
    product  [339]
    product  [348]
    product  [140]
  318 ≥ Max
    product  [363]
    product  [433]
    product  [385]
    product  [34]
    product  [39]
    product  [24]
    product  [330]
    product  [6]
    product  [504]
  319 ≥ Max
    product  [400]
    product  [361]
    product  [5]
    product  [34]
    product  [39]
    product  [22]
    product  [24]
    product  [361]
    product  [138]
  320 ≥ Max
    product  [324, 326]
  321 ≥ Max
    product  [18]
    product  [38]
    product  [38]
  322 ≥ Max
    product  [323]
  323 ≥ Max
    product  [322]
    product  [316]
  324 ≥ Max
    product  [L]
    product  [320]
    product  [317]
  325 ≥ Max
    product  [36]
  326 ≥ Max
    product  [320]
    product  [37]
  327 ≥ Max
    product  [37]
  328 ≥ Max
    product  [36]
  329 ≥ Max
    product  [334, 336]
  330 ≥ Max
    product  [34]
    product  [22]
    product  [318]
  331 ≥ Max
    product  [32]
  332 ≥ Max
    product  [333]
  333 ≥ Max
    product  [332]
    product  [316]
  334 ≥ Max
    product  [L]
    product  [329]
    product  [317]
  335 ≥ Max
    product  [20]
  336 ≥ Max
    product  [329]
    product  [21]
  337 ≥ Max
    product  [21]
  338 ≥ Max
    product  [20]
  339 ≥ Max
    product  [317]
  340 ≥ Max
    product  [316]
  341 ≥ Max
    product  [32]
  342 ≥ Max
    product  [348, 351]
  343 ≥ Max
    product  [34]
    product  [5]
    product  [360]
  344 ≥ Max
    product  [348, 350]
  345 ≥ Max
    product  [34]
    product  [3]
    product  [358]
  346 ≥ Max
    product  [347]
  347 ≥ Max
    product  [346]
    product  [316]
  348 ≥ Max
    product  [L]
    product  [344]
    product  [342]
    product  [317]
  349 ≥ Max
    product  [1]
  350 ≥ Max
    product  [344]
    product  [2]
  351 ≥ Max
    product  [342]
    product  [4]
  352 ≥ Max
    product  [359]
  353 ≥ Max
    product  [357]
  354 ≥ Max
    product  [356]
  356 ≥ Max
    product  [368]
    product  [389]
    product  [354]
  357 ≥ Max
    product  [369]
    product  [390]
    product  [353]
  358 ≥ Max
    product  [34]
    product  [24]
    product  [387]
    product  [345]
  359 ≥ Max
    product  [372]
    product  [391]
    product  [352]
  360 ≥ Max
    product  [34]
    product  [363]
    product  [385]
    product  [343]
  361 ≥ Max
    product  [34]
    product  [319]
    product  [6]
    product  [319]
  362 ≥ Max
    product  [372]
  363 ≥ Max
    product  [34]
    product  [360]
    product  [318]
  364 ≥ Max
    product  [369, 371]
  365 ≥ Max
    product  [34]
    product  [22]
    product  [432]
  366 ≥ Max
    product  [32]
  367 ≥ Max
    product  [368]
  368 ≥ Max
    product  [367]
    product  [356]
  369 ≥ Max
    product  [L]
    product  [364]
    product  [357]
  370 ≥ Max
    product  [20]
  371 ≥ Max
    product  [364]
    product  [21]
  372 ≥ Max
    product  [362]
    product  [359]
  373 ≥ Max
    product  [317]
  374 ≥ Max
    product  [316]
  375 ≥ Max
    product  [431]
  376 ≥ Max
    product  [427]
  377 ≥ Max
    product  [426]
  378 ≥ Max
    product  [425]
  379 ≥ Max
    product  [32]
  380 ≥ Max
    product  [399]
  381 ≥ Max
    product  [398]
  382 ≥ Max
    product  [317]
  383 ≥ Max
    product  [316]
  384 ≥ Max
    product  [391]
  385 ≥ Max
    product  [34]
    product  [360]
    product  [318]
  386 ≥ Max
    product  [390]
  387 ≥ Max
    product  [34]
    product  [358]
    product  [3]
  388 ≥ Max
    product  [389]
  389 ≥ Max
    product  [388]
    product  [356]
  390 ≥ Max
    product  [386]
    product  [357]
  391 ≥ Max
    product  [384]
    product  [359]
  392 ≥ Max
    product  [4]
  393 ≥ Max
    product  [2]
  394 ≥ Max
    product  [1]
  395 ≥ Max
    product  [317]
  396 ≥ Max
    product  [316]
  398 ≥ Max
    product  [408]
    product  [417]
    product  [381]
  399 ≥ Max
    product  [409]
    product  [418]
    product  [380]
  400 ≥ Max
    product  [34]
    product  [406]
    product  [415]
    product  [319]
  401 ≥ Max
    product  [410]
    product  [419]
    product  [428]
  402 ≥ Max
    product  [18]
    product  [15]
    product  [11]
    product  [429]
  403 ≥ Max
    product  [32]
  404 ≥ Max
    product  [34]
    product  [406]
    product  [39]
    product  [430]
  405 ≥ Max
    product  [409]
  406 ≥ Max
    product  [34]
    product  [400]
    product  [404]
  407 ≥ Max
    product  [408]
  408 ≥ Max
    product  [407]
    product  [398]
  409 ≥ Max
    product  [405]
    product  [399]
  410 ≥ Max
    product  [L]
    product  [401]
  411 ≥ Max
    product  [14]
  412 ≥ Max
    product  [419, 421]
  413 ≥ Max
    product  [18]
    product  [10]
    product  [38]
  414 ≥ Max
    product  [418]
  415 ≥ Max
    product  [34]
    product  [400]
  416 ≥ Max
    product  [417]
  417 ≥ Max
    product  [416]
    product  [398]
  418 ≥ Max
    product  [414]
    product  [399]
  419 ≥ Max
    product  [L]
    product  [412]
    product  [401]
  420 ≥ Max
    product  [8]
  421 ≥ Max
    product  [412]
    product  [9]
  422 ≥ Max
    product  [37]
  423 ≥ Max
    product  [36]
  425 ≥ Max
    product  [442]
    product  [458]
    product  [469]
    product  [485]
    product  [498]
    product  [502]
    product  [118]
    product  [378]
  426 ≥ Max
    product  [443]
    product  [459]
    product  [468]
    product  [486]
    product  [497]
    product  [501]
    product  [117]
    product  [377]
  427 ≥ Max
    product  [444]
    product  [460]
    product  [467]
    product  [487]
    product  [496]
    product  [500]
    product  [116]
    product  [376]
  428 ≥ Max
    product  [437]
    product  [453]
    product  [191]
    product  [480]
    product  [480]
    product  [480]
    product  [65]
    product  [401]
  429 ≥ Max
    product  [18]
    product  [438]
    product  [454]
    product  [192]
    product  [481]
    product  [481]
    product  [481]
    product  [66]
    product  [402]
  430 ≥ Max
    product  [34]
    product  [439]
    product  [455]
    product  [194]
    product  [482]
    product  [482]
    product  [482]
    product  [67]
    product  [404]
  431 ≥ Max
    product  [445]
    product  [461]
    product  [466]
    product  [488]
    product  [495]
    product  [499]
    product  [115]
    product  [375]
  432 ≥ Max
    product  [34]
    product  [39]
    product  [24]
    product  [450]
    product  [6]
    product  [478]
    product  [476]
    product  [504]
    product  [365]
  433 ≥ Max
    product  [34]
    product  [439]
    product  [22]
    product  [24]
    product  [3]
    product  [5]
    product  [6]
    product  [114]
    product  [318]
  434 ≥ Max
    product  [445, 447]
  435 ≥ Max
    product  [18]
    product  [38]
    product  [438]
  436 ≥ Max
    product  [444]
  437 ≥ Max
    product  [428]
    product  [448]
  438 ≥ Max
    product  [18]
    product  [429]
    product  [435]
  439 ≥ Max
    product  [34]
    product  [430]
    product  [433]
  440 ≥ Max
    product  [443]
  441 ≥ Max
    product  [442]
  442 ≥ Max
    product  [441]
    product  [425]
  443 ≥ Max
    product  [440]
    product  [426]
  444 ≥ Max
    product  [436]
    product  [427]
  445 ≥ Max
    product  [L]
    product  [434]
    product  [431]
  446 ≥ Max
    product  [36]
  447 ≥ Max
    product  [434]
    product  [37]
  448 ≥ Max
    product  [437]
  449 ≥ Max
    product  [461, 463]
  450 ≥ Max
    product  [34]
    product  [22]
    product  [432]
  451 ≥ Max
    product  [32]
  452 ≥ Max
    product  [460]
  453 ≥ Max
    product  [428]
    product  [188]
  454 ≥ Max
    product  [18]
    product  [429]
    product  [189]
  455 ≥ Max
    product  [34]
    product  [430]
    product  [190]
  456 ≥ Max
    product  [459]
  457 ≥ Max
    product  [458]
  458 ≥ Max
    product  [457]
    product  [425]
  459 ≥ Max
    product  [456]
    product  [426]
  460 ≥ Max
    product  [452]
    product  [427]
  461 ≥ Max
    product  [L]
    product  [449]
    product  [431]
  462 ≥ Max
    product  [20]
  463 ≥ Max
    product  [449]
    product  [21]
  464 ≥ Max
    product  [21]
  465 ≥ Max
    product  [20]
  466 ≥ Max
    product  [431]
  467 ≥ Max
    product  [427]
  468 ≥ Max
    product  [426]
  469 ≥ Max
    product  [425]
  470 ≥ Max
    product  [32]
  471 ≥ Max
    product  [32]
  472 ≥ Max
    product  [187]
  473 ≥ Max
    product  [186]
  474 ≥ Max
    product  [185]
  475 ≥ Max
    product  [488, 491]
  476 ≥ Max
    product  [34]
    product  [5]
    product  [432]
  477 ≥ Max
    product  [488, 490]
  478 ≥ Max
    product  [34]
    product  [3]
    product  [432]
  479 ≥ Max
    product  [487]
  480 ≥ Max
    product  [428]
    product  [428]
    product  [428]
  481 ≥ Max
    product  [18]
    product  [429]
    product  [429]
    product  [429]
  482 ≥ Max
    product  [34]
    product  [430]
    product  [430]
    product  [430]
  483 ≥ Max
    product  [486]
  484 ≥ Max
    product  [485]
  485 ≥ Max
    product  [484]
    product  [425]
  486 ≥ Max
    product  [483]
    product  [426]
  487 ≥ Max
    product  [479]
    product  [427]
  488 ≥ Max
    product  [L]
    product  [477]
    product  [475]
    product  [431]
  489 ≥ Max
    product  [1]
  490 ≥ Max
    product  [477]
    product  [2]
  491 ≥ Max
    product  [475]
    product  [4]
  492 ≥ Max
    product  [4]
  493 ≥ Max
    product  [2]
  494 ≥ Max
    product  [1]
  495 ≥ Max
    product  [431]
  496 ≥ Max
    product  [427]
  497 ≥ Max
    product  [426]
  498 ≥ Max
    product  [425]
  499 ≥ Max
    product  [431]
  500 ≥ Max
    product  [427]
  501 ≥ Max
    product  [426]
  502 ≥ Max
    product  [425]
  504 ≥ Max
    product  [34]
    product  [6]
    product  [432]
    product  [318]
  505 ≥ Max
    product  [32]
  506 ≥ Max
    product  [4]
  507 ≥ Max
    product  [2]
  508 ≥ Max
    product  [1]
  509 ≥ Max
    product  [32]
  510 ≥ Max
    product  [21]
  511 ≥ Max
    product  [20]
  512 ≥ Max
    product  [32]
  513 ≥ Max
    product  [4]
  514 ≥ Max
    product  [2]
  515 ≥ Max
    product  [1]
  516 ≥ Max
    product  [32]
  517 ≥ Max
    product  [32]
  518 ≥ Max
    product  [37]
  519 ≥ Max
    product  [36]
  520 ≥ Max
    product  [32]
  521 ≥ Max
    product  [32]
  522 ≥ Max
    product  [14]
  523 ≥ Max
    product  [32]
  524 ≥ Max
    product  [37]
  525 ≥ Max
    product  [36]
  526 ≥ Max
    product  [32]
  527 ≥ Max
    product  [32]
  528 ≥ Max
    product  [9]
  529 ≥ Max
    product  [8]
  530 ≥ Max
    product  [32]
  531 ≥ Max
    product  [14]
  532 ≥ Max
    product  [21]
  533 ≥ Max
    product  [20]
  534 ≥ Max
    product  [32]
  535 ≥ Max
    product  [4]
  536 ≥ Max
    product  [2]
  537 ≥ Max
    product  [1]
  538 ≥ Max
    product  [32]
  539 ≥ Max
    product  [32]
  540 ≥ Max
    product  [37]
  541 ≥ Max
    product  [36]
  542 ≥ Max
    product  [32]
  543 ≥ Max
    product  [32]
  544 ≥ Max
    product  [9]
  545 ≥ Max
    product  [8]
  546 ≥ Max
    product  [32]
  547 ≥ Max
    product  [14]
  548 ≥ Max
    product  [37]
  549 ≥ Max
    product  [36]
  550 ≥ Max
    product  [32]
  551 ≥ Max
    product  [32]
  552 ≥ Max
    product  [14]
  553 ≥ Max
    product  [32]

#######################
# Deferred equalities #
#######################

69 -> TT n ~ TT n
48 -> S m ~ S m
47 -> TT n ~ TT n
15 -> S m ~ S m
90 -> TT n ~ TT n
48 -> S m ~ S m
47 -> TT n ~ TT n
11 -> S m ~ S m
90 -> TT n ~ TT n
15 -> S m ~ S m
153 -> S n ~ S n
11 -> S m ~ S m
153 -> S n ~ S n
262 -> S m ~ S m
151 -> S m ~ S m
153 -> S n ~ S n
262 -> S m ~ S m
243 -> S n ~ S n
15 -> S m ~ S m
15 -> S n ~ S n
194 -> S n ~ S n
11 -> S m ~ S m
11 -> S n ~ S n
194 -> S n ~ S n
450 -> S m ~ S m
192 -> S m ~ S m
194 -> S n ~ S n
450 -> S m ~ S m
433 -> S n ~ S n
15 -> S (S Z) ~ S (S Z)
39 -> S (S Z) ~ S (S Z)
15 -> S Z ~ S Z
11 -> S (S Z) ~ S (S Z)
39 -> S (S Z) ~ S (S Z)
6 -> S (S Z) ~ S (S Z)
24 -> S Z ~ S Z
15 -> S Z ~ S Z
11 -> S (S Z) ~ S (S Z)
39 -> S (S Z) ~ S (S Z)
15 -> S (S Z) ~ S (S Z)
39 -> S (S Z) ~ S (S Z)
6 -> S (S Z) ~ S (S Z)
24 -> S Z ~ S Z
504 -> S Z ~ S Z
15 -> S Z ~ S Z
39 -> S Z ~ S Z
52 -> TT Z ~ TT Z
48 -> S Z ~ S Z
47 -> TT Z ~ TT Z
66 -> S Z ~ S Z
504 -> S Z ~ S Z
15 -> S n ~ S n
11 -> S n ~ S n
365 -> S m ~ S m
402 -> S m ~ S m
365 -> S m ~ S m
330 -> S m ~ S m
330 -> S m ~ S m
319 -> S m ~ S m
504 -> S Z ~ S Z
138 -> S Z ~ S Z
138 -> S Z ~ S Z

  -> iteration 1
    -> No more equalities, fixed point reached.

###################
# Final valuation #
###################

  0 -> R
  1 -> I
  2 -> R
  3 -> I
  4 -> R
  5 -> I
  6 -> I
  7 -> R
  8 -> I
  9 -> R
  10 -> I
  11 -> I
  12 -> I
  13 -> R
  14 -> I
  15 -> I
  16 -> I
  17 -> I
  18 -> I
  19 -> R
  20 -> I
  21 -> R
  22 -> I
  23 -> I
  24 -> I
  25 -> I
  26 -> L
  27 -> I
  28 -> I
  29 -> I
  30 -> I
  31 -> I
  32 -> I
  33 -> I
  34 -> I
  35 -> R
  36 -> I
  37 -> R
  38 -> I
  39 -> I
  40 -> R
  41 -> I
  42 -> I
  43 -> R
  44 -> R
  45 -> I
  46 -> I
  47 -> I
  48 -> I
  49 -> I
  50 -> R
  51 -> I
  52 -> I
  53 -> I
  54 -> I
  55 -> I
  56 -> I
  57 -> I
  58 -> R
  59 -> I
  60 -> I
  61 -> R
  62 -> I
  63 -> I
  64 -> I
  65 -> R
  66 -> I
  67 -> I
  68 -> R
  69 -> I
  70 -> I
  71 -> I
  72 -> R
  73 -> I
  74 -> I
  75 -> I
  76 -> I
  77 -> I
  78 -> I
  79 -> R
  80 -> I
  81 -> I
  82 -> I
  83 -> R
  84 -> R
  85 -> R
  86 -> I
  87 -> R
  88 -> I
  89 -> R
  90 -> I
  91 -> I
  92 -> I
  93 -> R
  94 -> I
  95 -> I
  96 -> I
  97 -> I
  98 -> I
  99 -> I
  100 -> R
  101 -> I
  102 -> I
  103 -> I
  104 -> R
  105 -> R
  106 -> R
  107 -> I
  108 -> R
  109 -> R
  110 -> R
  111 -> I
  112 -> I
  113 -> R
  114 -> I
  115 -> R
  116 -> R
  117 -> I
  118 -> I
  119 -> I
  120 -> R
  121 -> I
  122 -> I
  123 -> I
  124 -> R
  125 -> R
  126 -> I
  127 -> I
  128 -> I
  129 -> R
  130 -> I
  131 -> R
  132 -> I
  133 -> I
  134 -> I
  135 -> I
  136 -> I
  137 -> R
  138 -> I
  139 -> I
  140 -> R
  141 -> I
  142 -> I
  143 -> R
  144 -> I
  145 -> I
  146 -> R
  147 -> R
  148 -> I
  149 -> I
  150 -> R
  151 -> I
  152 -> I
  153 -> I
  154 -> I
  155 -> R
  156 -> R
  157 -> I
  158 -> I
  159 -> I
  160 -> I
  161 -> I
  162 -> I
  163 -> R
  164 -> R
  165 -> I
  166 -> I
  167 -> R
  168 -> I
  169 -> R
  170 -> R
  171 -> I
  172 -> I
  173 -> I
  174 -> I
  175 -> I
  176 -> I
  177 -> R
  178 -> R
  179 -> I
  180 -> R
  181 -> R
  182 -> I
  183 -> R
  184 -> R
  185 -> I
  186 -> I
  187 -> R
  188 -> R
  189 -> I
  190 -> I
  191 -> R
  192 -> I
  193 -> I
  194 -> I
  195 -> I
  196 -> R
  197 -> R
  198 -> I
  199 -> I
  200 -> I
  201 -> I
  202 -> I
  203 -> I
  204 -> R
  205 -> R
  206 -> I
  207 -> R
  208 -> I
  209 -> I
  210 -> I
  211 -> R
  212 -> I
  213 -> R
  214 -> R
  215 -> I
  216 -> I
  217 -> I
  218 -> I
  219 -> I
  220 -> I
  221 -> R
  222 -> R
  223 -> I
  224 -> R
  225 -> R
  226 -> R
  227 -> I
  228 -> I
  229 -> I
  230 -> I
  231 -> R
  232 -> R
  233 -> R
  234 -> R
  235 -> I
  236 -> I
  237 -> R
  238 -> R
  239 -> I
  240 -> I
  241 -> R
  242 -> I
  243 -> I
  244 -> R
  245 -> I
  246 -> R
  247 -> R
  248 -> I
  249 -> I
  250 -> I
  251 -> I
  252 -> I
  253 -> I
  254 -> R
  255 -> R
  256 -> I
  257 -> R
  258 -> R
  259 -> I
  260 -> R
  261 -> R
  262 -> I
  263 -> I
  264 -> R
  265 -> R
  266 -> I
  267 -> I
  268 -> I
  269 -> I
  270 -> I
  271 -> I
  272 -> R
  273 -> R
  274 -> I
  275 -> R
  276 -> R
  277 -> I
  278 -> R
  279 -> R
  280 -> I
  281 -> I
  282 -> I
  283 -> I
  284 -> R
  285 -> I
  286 -> I
  287 -> R
  288 -> I
  289 -> R
  290 -> I
  291 -> R
  292 -> R
  293 -> I
  294 -> I
  295 -> I
  296 -> I
  297 -> I
  298 -> I
  299 -> R
  300 -> R
  301 -> I
  302 -> R
  303 -> R
  304 -> R
  305 -> R
  306 -> I
  307 -> R
  308 -> R
  309 -> I
  310 -> I
  311 -> R
  312 -> R
  313 -> I
  314 -> I
  315 -> R
  316 -> I
  317 -> R
  318 -> I
  319 -> I
  320 -> R
  321 -> I
  322 -> I
  323 -> I
  324 -> R
  325 -> I
  326 -> R
  327 -> R
  328 -> I
  329 -> R
  330 -> I
  331 -> I
  332 -> I
  333 -> I
  334 -> R
  335 -> I
  336 -> R
  337 -> R
  338 -> I
  339 -> R
  340 -> I
  341 -> I
  342 -> R
  343 -> I
  344 -> R
  345 -> I
  346 -> I
  347 -> I
  348 -> R
  349 -> I
  350 -> R
  351 -> R
  352 -> R
  353 -> R
  354 -> I
  355 -> L
  356 -> I
  357 -> R
  358 -> I
  359 -> R
  360 -> I
  361 -> I
  362 -> R
  363 -> I
  364 -> R
  365 -> I
  366 -> I
  367 -> I
  368 -> I
  369 -> R
  370 -> I
  371 -> R
  372 -> R
  373 -> R
  374 -> I
  375 -> R
  376 -> R
  377 -> I
  378 -> I
  379 -> I
  380 -> R
  381 -> I
  382 -> R
  383 -> I
  384 -> R
  385 -> I
  386 -> R
  387 -> I
  388 -> I
  389 -> I
  390 -> R
  391 -> R
  392 -> R
  393 -> R
  394 -> I
  395 -> R
  396 -> I
  397 -> R
  398 -> I
  399 -> R
  400 -> I
  401 -> R
  402 -> I
  403 -> I
  404 -> I
  405 -> R
  406 -> I
  407 -> I
  408 -> I
  409 -> R
  410 -> R
  411 -> I
  412 -> R
  413 -> I
  414 -> R
  415 -> I
  416 -> I
  417 -> I
  418 -> R
  419 -> R
  420 -> I
  421 -> R
  422 -> R
  423 -> I
  424 -> R
  425 -> I
  426 -> I
  427 -> R
  428 -> R
  429 -> I
  430 -> I
  431 -> R
  432 -> I
  433 -> I
  434 -> R
  435 -> I
  436 -> R
  437 -> R
  438 -> I
  439 -> I
  440 -> I
  441 -> I
  442 -> I
  443 -> I
  444 -> R
  445 -> R
  446 -> I
  447 -> R
  448 -> R
  449 -> R
  450 -> I
  451 -> I
  452 -> R
  453 -> R
  454 -> I
  455 -> I
  456 -> I
  457 -> I
  458 -> I
  459 -> I
  460 -> R
  461 -> R
  462 -> I
  463 -> R
  464 -> R
  465 -> I
  466 -> R
  467 -> R
  468 -> I
  469 -> I
  470 -> I
  471 -> I
  472 -> R
  473 -> I
  474 -> I
  475 -> R
  476 -> I
  477 -> R
  478 -> I
  479 -> R
  480 -> R
  481 -> I
  482 -> I
  483 -> I
  484 -> I
  485 -> I
  486 -> I
  487 -> R
  488 -> R
  489 -> I
  490 -> R
  491 -> R
  492 -> R
  493 -> R
  494 -> I
  495 -> R
  496 -> R
  497 -> I
  498 -> I
  499 -> R
  500 -> R
  501 -> I
  502 -> I
  503 -> R
  504 -> I
  505 -> I
  506 -> R
  507 -> R
  508 -> I
  509 -> I
  510 -> R
  511 -> I
  512 -> I
  513 -> R
  514 -> R
  515 -> I
  516 -> I
  517 -> I
  518 -> R
  519 -> I
  520 -> I
  521 -> I
  522 -> I
  523 -> I
  524 -> R
  525 -> I
  526 -> I
  527 -> I
  528 -> R
  529 -> I
  530 -> I
  531 -> I
  532 -> R
  533 -> I
  534 -> I
  535 -> R
  536 -> R
  537 -> I
  538 -> I
  539 -> I
  540 -> R
  541 -> I
  542 -> I
  543 -> I
  544 -> R
  545 -> I
  546 -> I
  547 -> I
  548 -> R
  549 -> I
  550 -> I
  551 -> I
  552 -> I
  553 -> I

#####################
# Annotated program #
#####################

constructor Nat :I Type.

constructor Z :I Nat.

constructor S :I (n :I Nat) -> Nat.

constructor Fin :I Nat -> Type.

constructor FZ :R (n :I Nat) -> Fin (S n).

constructor FS :R (n :I Nat) -> Fin n -> Fin (S n).

constructor Vect :I Nat -> Type -> Type.

constructor VN :R (a :I Type) -> Vect Z a.

constructor VC :R (n :I Nat) -> (a :I Type) -> a -> Vect n a -> Vect (S n) a.

constructor TT :I Nat -> Type.

constructor V :R (n :I Nat) -> Fin n -> TT n.

constructor Lam :R (n :I Nat) -> TT (S n) -> TT n.

constructor App :R (n :I Nat) -> TT n -> TT n -> TT n.

env :R (m :I Nat) -> (n :I Nat) -> Vect m (TT n) -> Fin m -> TT n {
  forall (m :I Nat) (n :I Nat) (x :R TT n) (xs :R Vect m (TT n))
  env [S m] n (VC [m] [TT n] x xs) (FZ m) ~> x
  
  forall (m :I Nat) (n :I Nat) (x :R TT n) (xs :R Vect m (TT n)) (i :R Fin m)
  env [S m] n (VC [m] [TT n] x xs) (FS m i) ~> env m n xs i
}

extendMap :R (m :I Nat) -> (n :I Nat) -> (Fin m -> Fin n) -> Fin (S m) -> Fin (S n) {
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> Fin n)
  extendMap m n f (FZ [m]) ~> FZ n
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> Fin n) (i :R Fin m)
  extendMap m n f (FS [m] i) ~> FS n (f i)
}

mapVars :R (m :I Nat) -> (n :I Nat) -> (Fin m -> Fin n) -> TT m -> TT n {
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> Fin n) (i :R Fin m)
  mapVars m n f (V [m] i) ~> V n (f i)
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> Fin n) (x :R TT (S m))
  mapVars m n f (Lam [m] x) ~> Lam n (mapVars (S m) (S n) (extendMap m n f) x)
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> Fin n) (g :R TT m) (x :R TT m)
  mapVars m n f (App [m] g x) ~> App n (mapVars m n f g) (mapVars m n f x)
}

extendSubst :R (m :I Nat) -> (n :I Nat) -> (Fin m -> TT n) -> Fin (S m) -> TT (S n) {
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> TT n)
  extendSubst m n f (FZ [m]) ~> V (S n) (FZ n)
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> TT n) (i :R Fin m)
  extendSubst m n f (FS [m] i) ~> mapVars n (S n) (FS n) (f i)
}

substVars :R (m :I Nat) -> (n :I Nat) -> (Fin m -> TT n) -> TT m -> TT n {
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> TT n) (i :R Fin m)
  substVars m n f (V [m] i) ~> f i
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> TT n) (x :R TT (S m))
  substVars m n f (Lam [m] x) ~> Lam n (substVars (S m) (S n) (extendSubst m n f) x)
  
  forall (m :I Nat) (n :I Nat) (f :R Fin m -> TT n) (g :R TT m) (x :R TT m)
  substVars m n f (App [m] g x) ~> App n (substVars m n f g) (substVars m n f x)
}

testTm :R TT (S Z) {
  testTm ~> App (S Z) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FZ (S Z))) (V (S (S Z)) (FS (S Z) (FZ Z))))) (Lam (S Z) (App (S (S Z)) (V (S (S Z)) (FS (S Z) (FZ Z))) (V (S (S Z)) (FZ (S Z)))))
}

example1 :R TT Z {
  example1 ~> substVars (S Z) Z (env (S Z) Z (VC Z (TT Z) (Lam Z (V (S Z) (FZ Z))) (VN (TT Z)))) testTm
}

substTop :R (n :I Nat) -> TT n -> Fin (S n) -> TT n {
  forall (n :I Nat) (tm :R TT n)
  substTop n tm (FZ [n]) ~> tm
  
  forall (n :I Nat) (tm :R TT n) (i :R Fin n)
  substTop n tm (FS [n] i) ~> V n i
}

redex :L (m :I Nat) -> TT m -> TT m -> TT m {
  forall (m :I Nat) (y :R TT (S m)) (x :R TT m)
  redex m (Lam [m] y) x ~> nf m (substVars (S m) m (substTop m (nf m x)) y)
  
  forall (m :I Nat) (f' :R TT m) (x :R TT m)
  redex m f' x ~> App m f' (nf m x)
}

nf :R (m :I Nat) -> TT m -> TT m {
  forall (m :I Nat) (i :R Fin m)
  nf m (V [m] i) ~> V m i
  
  forall (m :I Nat) (x :R TT (S m))
  nf m (Lam [m] x) ~> Lam m (nf (S m) x)
  
  forall (m :I Nat) (f :R TT m) (x :R TT m)
  nf m (App [m] f x) ~> redex m f x
}

example2 :R TT (S Z) {
  example2 ~> nf (S Z) testTm
}

constructor Result :I Type.

constructor R :L (x :R TT Z) -> (y :R TT (S Z)) -> Result.

main :R Result {
  main ~> R example1 example2
}

###############
# Final check #
###############

** OK **

##########
# Erased #
##########

constructor FZ : Fin.

constructor FS : _ -> Fin.

constructor VN : Vect.

constructor VC : _ -> _ -> Vect.

constructor V : _ -> TT.

constructor Lam : _ -> TT.

constructor App : _ -> _ -> TT.

env : _ -> _ -> TT {
  forall (x) (xs)
  env (VC x xs) FZ ~> x
  
  forall (x) (xs) (i)
  env (VC x xs) (FS i) ~> env xs i
}

extendMap : _ -> _ -> Fin {
  forall (f)
  extendMap f FZ ~> FZ
  
  forall (f) (i)
  extendMap f (FS i) ~> FS (f i)
}

mapVars : _ -> _ -> TT {
  forall (f) (i)
  mapVars f (V i) ~> V (f i)
  
  forall (f) (x)
  mapVars f (Lam x) ~> Lam (mapVars (extendMap f) x)
  
  forall (f) (g) (x)
  mapVars f (App g x) ~> App (mapVars f g) (mapVars f x)
}

extendSubst : _ -> _ -> TT {
  forall (f)
  extendSubst f FZ ~> V FZ
  
  forall (f) (i)
  extendSubst f (FS i) ~> mapVars FS (f i)
}

substVars : _ -> _ -> TT {
  forall (f) (i)
  substVars f (V i) ~> f i
  
  forall (f) (x)
  substVars f (Lam x) ~> Lam (substVars (extendSubst f) x)
  
  forall (f) (g) (x)
  substVars f (App g x) ~> App (substVars f g) (substVars f x)
}

testTm : TT {
  testTm ~> App (Lam (App (V FZ) (V (FS FZ)))) (Lam (App (V (FS FZ)) (V FZ)))
}

example1 : TT {
  example1 ~> substVars (env (VC (Lam (V FZ)) VN)) testTm
}

substTop : _ -> _ -> TT {
  forall (tm)
  substTop tm FZ ~> tm
  
  forall (tm) (i)
  substTop tm (FS i) ~> V i
}

redex : _ -> _ -> TT {
  forall (y) (x)
  redex (Lam y) x ~> nf (substVars (substTop (nf x)) y)
  
  forall (f') (x)
  redex f' x ~> App f' (nf x)
}

nf : _ -> TT {
  forall (i)
  nf (V i) ~> V i
  
  forall (x)
  nf (Lam x) ~> Lam (nf x)
  
  forall (f) (x)
  nf (App f x) ~> redex f x
}

example2 : TT {
  example2 ~> nf testTm
}

constructor R : (x) -> (y) -> Result.

main : Result {
  main ~> R example1 example2
}

################
# NF of `main` #
################

Unerased, reduced:
R (App Z (Lam Z (App (S Z) (V (S Z) (FZ Z)) (Lam (S Z) (V (S (S Z)) (FZ (S Z)))))) (Lam Z (App (S Z) (Lam (S Z) (V (S (S Z)) (FZ (S Z)))) (V (S Z) (FZ Z))))) (App (S Z) (V (S Z) (FZ Z)) (V (S Z) (FZ Z)))

Erased, reduced:
R (App (Lam (App (V FZ) (Lam (V FZ)))) (Lam (App (Lam (V FZ)) (V FZ)))) (App (V FZ) (V FZ))
