#############
# Desugared #
#############

constructor Bool : Type

constructor True : Bool

constructor False : Bool

function id : (b : Bool) -> Bool =
  \b : Bool.
    b

function not : (b : Bool) -> Bool =
  \b : Bool.
    match
      b : Bool = b
      -> Bool
    with
      case b
        True  => False
        False  => True

constructor Id : (x : Bool) -> (y : Bool) -> Type

constructor Refl : (x : Bool) -> Id x x

function lemma : (b : Bool) -> Id b (not (not b)) =
  \b : Bool.
    match
      b : Bool = b
      -> Id b (not (not b))
    with
      case b
        True  => Refl True
        False  => Refl False

function main : Bool =
  match
    x : Bool = not True
    -> Bool
  with
    case x
      True  => False
      False  => True

#############
# Evarified #
#############

constructor Bool :0 Type

constructor True :1 Bool

constructor False :2 Bool

function id :3 (b :4 Bool) -> Bool =
  \b :5 Bool.
    b

function not :6 (b :7 Bool) -> Bool =
  \b :8 Bool.
    match
      b : Bool = b
      -> Bool
    with
      case b
        True  => False
        False  => True

constructor Id :10 (x :11 Bool) -> (y :12 Bool) -> Type

constructor Refl :13 (x :14 Bool) -> Id -16- x -15- x

function lemma :17 (b :18 Bool) -> Id -20- b -19- (not -21- (not -22- b)) =
  \b :23 Bool.
    match
      b : Bool = b
      -> Id -26- b -25- (not -27- (not -28- b))
    with
      case b
        True  => Refl -29- True
        False  => Refl -30- False

function main :31 Bool =
  match
    x : Bool = not -33- True
    -> Bool
  with
    case x
      True  => False
      False  => True

Running erasure inference...
########################
# Inferred constraints #
########################

[I] -> 0
[] -> 0
[I] -> 1
[] -> 0
[I] -> 2
[I] -> 0
[I] -> 4
[I] -> 0
[I] -> 3
[I] -> 0
[I] -> 5
[] -> 5
5 ~ 4
[I] -> 5
[I] -> 3
[I] -> 0
[I] -> 7
[I] -> 0
[I] -> 6
[I] -> 0
[I] -> 8
8 ~ 7
[I] -> 8
[I] -> 6
[I] -> 0
[I] -> 11
[I] -> 0
[I] -> 12
[I] -> 10
[I] -> 0
[I] -> 14
[I] -> 10
[I] -> 14
16 ~ 11
[I] -> 14
15 ~ 12
[I] -> 13
[I] -> 0
[I] -> 18
[I] -> 10
[I] -> 18
20 ~ 11
[I] -> 6
[I] -> 6
[I] -> 18
22 ~ 7
21 ~ 7
19 ~ 12
[I] -> 17
[I] -> 0
[I] -> 23
23 ~ 18
[I] -> 23
25 ~ 19
26 ~ 20
[I] -> 17
[] -> 0
[I] -> 31
[I] -> 31

#######################
# Deferred equalities #
#######################

26 -> b ~ b
25 -> not -27- (not -28- b) ~ not -21- (not -22- b)

  -> iteration 1
    -> No more equalities, fixed point reached.

###################
# Final valuation #
###################

  0 -> R
  1 -> I
  2 -> I
  3 -> I
  4 -> L
  5 -> L
  6 -> I
  7 -> I
  8 -> I
  10 -> I
  11 -> I
  12 -> I
  13 -> I
  14 -> I
  15 -> I
  16 -> I
  17 -> I
  18 -> I
  19 -> I
  20 -> I
  21 -> I
  22 -> I
  23 -> I
  25 -> I
  26 -> I
  31 -> L

did not solve all evars
